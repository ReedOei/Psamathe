contract C {
    type Token is nonfungible asset nat

    trades : list (Token, Token)

    on create (userA : address, userB : address, tokensA : list nat, tokensB : list nat, unlockTime : nat):
        var pairer : Token ~> Token ~> (Token, Token) := \a. \b. (a,b)
        var temp : Token ~> (Token, Token)
        new Token --[ tokensA ]-> pairer --> temp
        new Token --[ tokensB ]-> temp --> trades
}

