type Token is fungible asset nat

transformer newAccount(a : any nat) -> res : ! map any nat => any Token {
    0 --> new Token() --> var balance : Token
    [ ! record(key) { key : any nat, value : any Token } ;
        record(key) {
            key : any nat |-> a,
            value : any Token |-> balance
        }
    ] --> res
}

/* transformer mint(balances : */

;

[ any nat ; 0,1,2 ] --> newAccount() --> var accounts : map any nat => any Token

4 --> new Token() --> var tokens : Token
tokens[3] --> accounts[0].value
/* 5 --> accounts[1].value */

/* accounts[0].value --> accounts[1].value */
/* 3 --> accounts[0].value */

