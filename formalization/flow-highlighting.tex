\definecolor{verylightgray}{rgb}{.97,.97,.97}

\lstdefinelanguage{flow}{
    keywords=[1]{var,interface,where,contract,transaction,view,transformer,type,is,returns},
    keywordstyle=[1]\color{Rhodamine}\bfseries,
    keywords=[2]{false,true,sometimes,fungible,asset,unique,immutable,consumable},
    keywordstyle=[2]\color{DarkOrchid}\bfseries,
    keywords=[3]{map,linking,set,list,address,uint256,string,nat,bool},
    keywordstyle=[3]\color{Emerald}\itshape,
    keywords=[4]{nonempty,any,exactly,one,!,msg,this,in,new,or,and,not,total,consume},
    keywordstyle=[4]\color{Lavender}\itshape,
    keywords=[5]{if,else,only,when,try,catch,such,that},
    keywordstyle=[5]\color{Cerulean}\bfseries,
    keepspaces=true,
	backgroundcolor=\color{verylightgray},
    columns=fullflexible,
    % literate=*
    %     {(}{{{\color{red}(}}}1
    %     {)}{{{\color{red})}}}1
    %     {+}{{{\color{red}+~}}}1
    %     {-}{{{\color{red}-~}}}1
    %     {:=}{{{\color{red}:=~}}}1
    %     {\{}{{{\color{red}\{}}}1
    %     {\}}{{{\color{red}\}}}}1
    %     {[}{{{\color{red}[}}}1
    %     {]}{{{\color{red}]}}}1
    %     {*}{{{\color{red}*~}}}1
    %     {:}{{{\color{red}:~}}}1
    %     {>}{{{\color{red}>~}}}1
    %     {<}{{{\color{red}<~}}}1
    %     {<=>}{{{$\color{red}\Leftrightarrow~$}}}1
    %     {.}{{{\color{red}.~}}}1
    %     {!}{{{$\color{red}!~$}}}1
    %     {=}{{{$\color{red}=~$}}}1
    %     {exists }{{{$\color{red}\exists$}}}1
    %     {forall }{{{$\color{red}\forall$}}}1,
    sensitive=false, % keywords are not case-sensitive
    morecomment=[l]{//}, % l is for line comment
    morecomment=[s]{/*}{*/}, % s is for start and end delimiter
    commentstyle=\color{CadetBlue}\textit,
    morestring=[b]", % defines that strings are enclosed in double quotes
    stringstyle=\color{ForestGreen}, % string literal style
    showstringspaces=false,
    xleftmargin=5.0ex,
    mathescape=true,
    escapechar=|
}

\lstnewenvironment{flow}
{%
    \lstset{language=flow, basicstyle=\normalsize\ttfamily, mathescape=true}%
}
{
}

\newcommand{\flowinline}[1]{\lstinline[language=flow,basicstyle=\normalsize\ttfamily,mathescape]{#1}}

